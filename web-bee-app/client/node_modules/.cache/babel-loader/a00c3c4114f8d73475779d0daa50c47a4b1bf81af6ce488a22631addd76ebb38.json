{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\n// import Keycloak from \"keycloak-js\";\nconst Keycloak = require(\"keycloak-js\");\nconst keycloak = new Keycloak({\n  url: \"http://localhost:8080\",\n  // URL Keycloak сервера\n  realm: \"myrealm\",\n  // Название твоего Realm\n  clientId: \"myclient\" // ID клиента\n});\nconsole.log(\"Keycloak:\", Keycloak);\nconst useAuth = () => {\n  _s();\n  const isRun = useRef(false);\n  const [isLogin, setLogin] = useState(false);\n  console.log(keycloak);\n  useEffect(() => {\n    if (isRun.current) return;\n    isRun.current = true;\n    keycloak === null || keycloak === void 0 ? void 0 : keycloak.init({\n      onLoad: \"login-required\",\n      promiseType: \"native\"\n    }).then(() => setLogin(keycloak.authenticated));\n  }, []);\n  return isLogin;\n};\n_s(useAuth, \"BGDNiQCfJNkVFoWx84kYMQxqAjY=\");\nexport default useAuth;","map":{"version":3,"names":["React","useState","useEffect","useRef","Keycloak","require","keycloak","url","realm","clientId","console","log","useAuth","_s","isRun","isLogin","setLogin","current","init","onLoad","promiseType","then","authenticated"],"sources":["D:/hack/Hack_Webbi/web-bee-app/client/src/hooks/useAuth.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n// import Keycloak from \"keycloak-js\";\r\nconst Keycloak = require(\"keycloak-js\");\r\nconst keycloak = new Keycloak({\r\n  url: \"http://localhost:8080\", // URL Keycloak сервера\r\n  realm: \"myrealm\", // Название твоего Realm\r\n  clientId: \"myclient\", // ID клиента\r\n});\r\n\r\nconsole.log(\"Keycloak:\", Keycloak);\r\n\r\nconst useAuth = () => {\r\n  const isRun = useRef(false);\r\n  const [isLogin, setLogin] = useState(false);\r\n  console.log(keycloak);\r\n  useEffect(() => {\r\n    if (isRun.current) return;\r\n\r\n    isRun.current = true;\r\n\r\n    keycloak\r\n      ?.init({ onLoad: \"login-required\", promiseType: \"native\" })\r\n      .then(() => setLogin(keycloak.authenticated));\r\n  }, []);\r\n\r\n  return isLogin;\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,aAAa,CAAC;AACvC,MAAMC,QAAQ,GAAG,IAAIF,QAAQ,CAAC;EAC5BG,GAAG,EAAE,uBAAuB;EAAE;EAC9BC,KAAK,EAAE,SAAS;EAAE;EAClBC,QAAQ,EAAE,UAAU,CAAE;AACxB,CAAC,CAAC;AAEFC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEP,QAAQ,CAAC;AAElC,MAAMQ,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,KAAK,GAAGX,MAAM,CAAC,KAAK,CAAC;EAC3B,MAAM,CAACY,OAAO,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3CS,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;EACrBJ,SAAS,CAAC,MAAM;IACd,IAAIY,KAAK,CAACG,OAAO,EAAE;IAEnBH,KAAK,CAACG,OAAO,GAAG,IAAI;IAEpBX,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CACJY,IAAI,CAAC;MAAEC,MAAM,EAAE,gBAAgB;MAAEC,WAAW,EAAE;IAAS,CAAC,CAAC,CAC1DC,IAAI,CAAC,MAAML,QAAQ,CAACV,QAAQ,CAACgB,aAAa,CAAC,CAAC;EACjD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOP,OAAO;AAChB,CAAC;AAACF,EAAA,CAfID,OAAO;AAiBb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}